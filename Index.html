<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>BluePay Wallet - Send & Receive Money</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- Icons -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" rel="stylesheet">

    <style>
        * { margin:0; padding:0; box-sizing:border-box; }
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
            background: #f3f6fb;
            color:#1f2933;
        }
        a { text-decoration:none; color:inherit; }

        header {
            background:#0b5ed7;
            color:#fff;
            padding:14px 24px;
            display:flex;
            align-items:center;
            justify-content:space-between;
            position:sticky;
            top:0;
            z-index:50;
        }
        .logo {
            font-weight:700;
            font-size:1.5rem;
            letter-spacing:0.04em;
        }
        .nav-right {
            display:flex;
            align-items:center;
            gap:16px;
            font-size:0.95rem;
        }
        .nav-pill {
            background:#ffffff22;
            padding:6px 14px;
            border-radius:999px;
        }

        .hero {
            display:flex;
            flex-wrap:wrap;
            align-items:center;
            justify-content:center;
            gap:28px;
            padding:32px 24px 10px;
            background:linear-gradient(135deg,#0b5ed7 0%,#1450a3 35%,#ffffff 36%,#f3f6fb 100%);
        }
        .hero-text {
            flex:1 1 280px;
            color:#fff;
            max-width:480px;
        }
        .hero-text h1 {
            font-size:2.4rem;
            margin-bottom:12px;
        }
        .hero-text p {
            font-size:1rem;
            opacity:0.9;
            margin-bottom:16px;
        }
        .hero-text .pill {
            display:inline-flex;
            align-items:center;
            gap:6px;
            background:#ffffff22;
            border-radius:999px;
            padding:6px 12px;
            font-size:0.8rem;
            margin-bottom:10px;
        }
        .hero-btn {
            background:#fff;
            color:#0b5ed7;
            padding:9px 18px;
            border-radius:999px;
            border:none;
            cursor:pointer;
            font-weight:600;
            display:inline-flex;
            align-items:center;
            gap:8px;
            box-shadow:0 10px 30px rgba(0,0,0,0.14);
        }
        .hero-btn:hover { transform:translateY(-1px); }

        .hero-image {
            flex:1 1 260px;
            max-width:480px;
            border-radius:22px;
            overflow:hidden;
            box-shadow:0 18px 45px rgba(15,23,42,0.35);
            border:5px solid #ffffff;
        }
        .hero-image img {
            width:100%;
            height:100%;
            object-fit:cover;
            display:block;
        }

        .main-wrap {
            max-width:1100px;
            margin:0 auto;
            padding:20px 16px 40px;
        }

        .top-row {
            display:flex;
            flex-wrap:wrap;
            gap:18px;
            align-items:stretch;
        }
        .card {
            background:#fff;
            border-radius:18px;
            padding:18px 18px 16px;
            box-shadow:0 10px 30px rgba(15,23,42,0.08);
        }
        .balance-card {
            flex:2 1 260px;
            position:relative;
            overflow:hidden;
            background:linear-gradient(145deg,#0b5ed7 0%,#2563eb 45%,#ffffff 46%,#e5edff 100%);
            color:#fff;
        }
        .balance-header {
            display:flex;
            justify-content:space-between;
            align-items:center;
            margin-bottom:12px;
        }
        .balance-amount {
            font-size:2.1rem;
            font-weight:600;
        }
        .balance-sub {
            font-size:0.85rem;
            opacity:0.9;
        }
        .balance-tag {
            font-size:0.8rem;
            background:#ffffff22;
            padding:4px 10px;
            border-radius:999px;
        }

        .quick-row {
            display:flex;
            gap:10px;
            margin-top:12px;
            flex-wrap:wrap;
        }
        .quick-pill {
            flex:1 1 110px;
            display:flex;
            align-items:center;
            justify-content:center;
            gap:8px;
            padding:7px 0;
            border-radius:999px;
            background:#ffffffdd;
            color:#0b5ed7;
            font-size:0.9rem;
            cursor:pointer;
        }
        .quick-pill i { font-size:0.9rem; }

        .side-summary {
            flex:1 1 220px;
            display:flex;
            flex-direction:column;
            gap:10px;
        }
        .side-row {
            display:flex;
            justify-content:space-between;
            align-items:center;
            font-size:0.9rem;
        }
        .side-label { color:#6b7280; }
        .side-value { font-weight:600; }

        .section-title {
            margin:20px 0 10px;
            font-size:1.05rem;
            display:flex;
            align-items:center;
            gap:8px;
        }

        .grid-two {
            display:grid;
            grid-template-columns:minmax(0, 1.1fr) minmax(0, 1.1fr);
            gap:18px;
        }

        .form-group {
            margin-bottom:12px;
        }
        label {
            display:block;
            font-size:0.85rem;
            margin-bottom:4px;
            color:#475569;
        }
        input[type="text"],
        input[type="number"] {
            width:100%;
            padding:9px 10px;
            border-radius:10px;
            border:1px solid #d0d7e2;
            font-size:0.92rem;
            outline:none;
        }
        input:focus {
            border-color:#0b5ed7;
            box-shadow:0 0 0 1px #bfdbfe;
        }
        .btn-primary {
            width:100%;
            padding:10px;
            border-radius:999px;
            border:none;
            cursor:pointer;
            background:#0b5ed7;
            color:#fff;
            font-weight:600;
            display:flex;
            align-items:center;
            justify-content:center;
            gap:8px;
        }
        .btn-primary:hover { background:#0a53be; }

        .tx-list {
            max-height:270px;
            overflow-y:auto;
        }
        .tx-row {
            display:flex;
            justify-content:space-between;
            align-items:flex-start;
            padding:8px 0;
            border-bottom:1px solid #edf1f9;
            font-size:0.85rem;
        }
        .tx-main {
            display:flex;
            flex-direction:column;
            gap:3px;
        }
        .tx-who {
            font-weight:600;
        }
        .tx-type {
            font-size:0.78rem;
            text-transform:uppercase;
            letter-spacing:0.05em;
            color:#6b7280;
        }
        .tx-right {
            text-align:right;
        }
        .tx-amount-pos { color:#059669; font-weight:600; }
        .tx-amount-neg { color:#dc2626; font-weight:600; }
        .tx-date { font-size:0.78rem; color:#9ca3af; }

        .notification {
            position:fixed;
            right:18px;
            bottom:18px;
            max-width:320px;
            background:#0b5ed7;
            color:#fff;
            padding:10px 14px;
            font-size:0.86rem;
            border-radius:12px;
            box-shadow:0 16px 35px rgba(15,23,42,0.38);
            opacity:0;
            transform:translateY(18px);
            pointer-events:none;
            transition:opacity 0.22s ease, transform 0.22s ease;
            z-index:100;
        }
        .notification.show {
            opacity:1;
            transform:translateY(0);
            pointer-events:auto;
        }
        .notification-title { font-weight:600; margin-bottom:3px; }

        @media (max-width:768px) {
            header { padding:10px 14px; }
            .hero { padding:18px 14px 10px; }
            .hero-text h1 { font-size:1.9rem; }
            .grid-two { grid-template-columns:1fr; }
        }
    </style>
</head>
<body>

<header>
    <div class="logo"><i class="fa-solid fa-circle-dollar-to-slot"></i> BluePay</div>
    <div class="nav-right">
        <span class="nav-pill"><i class="fa-solid fa-shield-halved"></i> Protected balance</span>
        <span><i class="fa-regular fa-user"></i> Hello, Alida</span>
    </div>
</header>

<section class="hero">
    <div class="hero-text">
        <div class="pill">
            <i class="fa-solid fa-bolt"></i> Instant transfers • Blue & white clean UI
        </div>
        <h1>Your money, one simple screen.</h1>
        <p>Check your balance, see every transaction, and send money by just typing a name. Everything
           updates instantly, like a real payment app.</p>
        <button class="hero-btn" onclick="scrollToMain()">
            <i class="fa-solid fa-wallet"></i>
            Open my wallet
        </button>
    </div>
    <div class="hero-image">
        <!-- Real-life payment image (royalty-free URL) -->
        <img src="https://images.pexels.com/photos/4968391/pexels-photo-4968391.jpeg?auto=compress&cs=tinysrgb&w=1200"
             alt="Person paying with a phone in a store">
    </div>
</section>

<main class="main-wrap" id="mainWallet">
    <div class="top-row">
        <div class="card balance-card">
            <div class="balance-header">
                <div>
                    <div class="balance-sub">Current balance</div>
                    <div id="balanceAmount" class="balance-amount">£0.00</div>
                </div>
                <div class="balance-tag">
                    <i class="fa-solid fa-circle-check"></i> Verified account
                </div>
            </div>
            <div class="quick-row">
                <button class="quick-pill" onclick="focusSendName()">
                    <i class="fa-solid fa-paper-plane"></i> Send money
                </button>
                <button class="quick-pill" onclick="addMockFunds(100)">
                    <i class="fa-solid fa-plus-circle"></i> +£100 test
                </button>
                <button class="quick-pill" onclick="addMockFunds(500)">
                    <i class="fa-solid fa-plus-circle"></i> +£500 test
                </button>
            </div>
        </div>

        <div class="card side-summary">
            <div class="side-row">
                <span class="side-label">Today’s sent</span>
                <span class="side-value" id="todaySent">£0.00</span>
            </div>
            <div class="side-row">
                <span class="side-label">Today’s received</span>
                <span class="side-value" id="todayReceived">£0.00</span>
            </div>
            <div class="side-row">
                <span class="side-label">Total transactions</span>
                <span class="side-value" id="totalCount">0</span>
            </div>
        </div>
    </div>

    <h2 class="section-title">
        <i class="fa-solid fa-money-bill-transfer" style="color:#0b5ed7;"></i>
        Main actions & history
    </h2>

    <div class="grid-two">
        <!-- SEND MONEY FORM -->
        <div class="card">
            <h3 style="margin-bottom:10px;">Send money</h3>
            <div class="form-group">
                <label for="recipientName">Recipient name (no account needed)</label>
                <input type="text" id="recipientName" placeholder="e.g. Alida, Humuhumu, Mom" autocomplete="off">
            </div>
            <div class="form-group">
                <label for="sendAmount">Amount to send (£)</label>
                <input type="number" id="sendAmount" min="0.01" step="0.01" placeholder="e.g. 50">
            </div>
            <div class="form-group">
                <label for="note">Note (optional)</label>
                <input type="text" id="note" placeholder="e.g. Pocket money, rent, gift…">
            </div>
            <button class="btn-primary" onclick="sendMoney()">
                <i class="fa-solid fa-paper-plane"></i> Send now
            </button>
        </div>

        <!-- TRANSACTION HISTORY -->
        <div class="card">
            <h3 style="margin-bottom:10px;">Main transactions</h3>
            <div class="tx-list" id="txList">
                <!-- Transactions injected with JS -->
            </div>
        </div>
    </div>
</main>

<div class="notification" id="notify">
    <div class="notification-title" id="notifyTitle"></div>
    <div id="notifyBody"></div>
</div>

<script>
    // --- SIMPLE WALLET STATE USING LOCALSTORAGE ---
    const STORAGE_KEY = "bluepay_wallet_v1";

    const initialState = {
        balance: 5000,   // starting from £5000 as you requested
        transactions: [] // each tx: {id, type, name, amount, note, createdAt}
    };

    function loadState() {
        const raw = localStorage.getItem(STORAGE_KEY);
        if (!raw) {
            localStorage.setItem(STORAGE_KEY, JSON.stringify(initialState));
            return structuredClone(initialState);
        }
        try {
            return JSON.parse(raw);
        } catch (e) {
            return structuredClone(initialState);
        }
    }

    function saveState(state) {
        localStorage.setItem(STORAGE_KEY, JSON.stringify(state));
    }

    let wallet = loadState();
    renderAll();

    function formatMoney(v) {
        return "£" + Number(v).toFixed(2);
    }

    function renderAll() {
        document.getElementById("balanceAmount").textContent = formatMoney(wallet.balance);

        const today = new Date().toISOString().slice(0,10);
        let sentToday = 0, receivedToday = 0;

        const list = document.getElementById("txList");
        if (!wallet.transactions.length) {
            list.innerHTML = '<p style="font-size:0.85rem;color:#6b7280;">No transactions yet. Send some money to see your history here.</p>';
        } else {
            const rows = wallet.transactions
                .slice()
                .sort((a,b) => b.createdAt - a.createdAt)
                .map(tx => {
                    const d = new Date(tx.createdAt);
                    const isToday = d.toISOString().slice(0,10) === today;
                    if (isToday && tx.type === "sent") sentToday += tx.amount;
                    if (isToday && tx.type === "received") receivedToday += tx.amount;

                    return `
                    <div class="tx-row">
                        <div class="tx-main">
                            <span class="tx-who">${tx.type === "sent" ? "To " : "From "}${tx.name}</span>
                            <span class="tx-type">${tx.type.toUpperCase()}</span>
                            ${tx.note ? `<span style="font-size:0.8rem;color:#6b7280;">${tx.note}</span>` : ""}
                        </div>
                        <div class="tx-right">
                            <div class="${tx.type === "sent" ? "tx-amount-neg" : "tx-amount-pos"}">
                                ${tx.type === "sent" ? "-" : "+"}${formatMoney(tx.amount)}
                            </div>
                            <div class="tx-date">${d.toLocaleString()}</div>
                        </div>
                    </div>`;
                }).join("");
            list.innerHTML = rows;
        }

        document.getElementById("todaySent").textContent = formatMoney(sentToday);
        document.getElementById("todayReceived").textContent = formatMoney(receivedToday);
        document.getElementById("totalCount").textContent = wallet.transactions.length;
    }

    // --- ACTIONS ---

    function addMockFunds(amount) {
        wallet.balance += amount;
        const tx = {
            id: crypto.randomUUID(),
            type: "received",
            name: "Test top up",
            amount,
            note: "Mock card top-up",
            createdAt: Date.now()
        };
        wallet.transactions.push(tx);
        saveState(wallet);
        renderAll();
        showNotification("Balance topped up", `+${formatMoney(amount)} added to your real BluePay wallet (test).`);
    }

    function sendMoney() {
        const nameInput = document.getElementById("recipientName");
        const amountInput = document.getElementById("sendAmount");
        const noteInput = document.getElementById("note");

        const name = nameInput.value.trim();
        const amount = parseFloat(amountInput.value);
        const note = noteInput.value.trim();

        if (!name) {
            showNotification("Missing name", "Please type the recipient’s name (it does not need an account).");
            nameInput.focus();
            return;
        }
        if (!amount || amount <= 0) {
            showNotification("Invalid amount", "Enter an amount greater than 0.");
            amountInput.focus();
            return;
        }
        if (amount > wallet.balance) {
            showNotification("Insufficient balance", `You tried to send ${formatMoney(amount)} but you only have ${formatMoney(wallet.balance)}.`);
            return;
        }

        // update balance
        const oldBalance = wallet.balance;
        wallet.balance -= amount;

        const tx = {
            id: crypto.randomUUID(),
            type: "sent",
            name,
            amount,
            note,
            createdAt: Date.now()
        };
        wallet.transactions.push(tx);
        saveState(wallet);
        renderAll();

        const msgBody =
            `You sent ${formatMoney(amount)} to ${name} from your real account.\n` +
            `Previous balance: ${formatMoney(oldBalance)}\n` +
            `New balance: ${formatMoney(wallet.balance)}.`;

        showNotification("Money sent", msgBody.replace(/\n/g, "<br>"));

        // clear inputs
        amountInput.value = "";
        noteInput.value = "";
        nameInput.value = "";
    }

    // --- UX HELPERS ---

    function showNotification(title, body) {
        const box = document.getElementById("notify");
        document.getElementById("notifyTitle").textContent = title;
        document.getElementById("notifyBody").innerHTML = body;
        box.classList.add("show");
        clearTimeout(showNotification._timer);
        showNotification._timer = setTimeout(() => {
            box.classList.remove("show");
        }, 3200);
    }

    function scrollToMain() {
        document.getElementById("mainWallet").scrollIntoView({ behavior:"smooth" });
    }

    function focusSendName() {
        document.getElementById("mainWallet").scrollIntoView({ behavior:"smooth" });
        setTimeout(() => document.getElementById("recipientName").focus(), 500);
    }
</script>
</body>
</html>















